<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promis Gaming</title>
    <script src="./jquery-3.6.0.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link rel="stylesheet" href="./css/stylesheet.css">
</head>
<body ng-app="regApp" ng-controller="regCtrl">
    <header>
        <div class="btns">
            <div class="loginmodal">
                <button onclick="document.getElementById('log').style.display='block'" style="width:auto;" class="login-btn">Login</button>
                <!-- Login modal -->
                <div id="log" class="modal">
                <form class="modal-content animate" action="blank" method="post" name="registerForm">
                    <div name="registerForm" class="container1" >
                        <label for="uname"><b>Username</b></label>
                        <input type="text" placeholder="Enter Username" name="usernameInput" ng-model="regVal.usernameInput" required>
                        <p class="error" ng-hide="{{registerForm.usernameInput.$pristine}}" ng-show="registerForm.usernameInput.$invalid" >*Username should be filled*</p>
                        <label for="psw"><b>Password</b></label>
                        <input type="password" placeholder="Enter Password" name="psw" ng-model="regVal.psw" required>    
                        <label>
                            <input type="checkbox" checked="checked" name="remember"> Remember me
                        </label>
                        <div class="container1">
                        <button type="submit" >Login</button>
                        <button type="button" onclick="document.getElementById('log').style.display='none'" class="cancelbtn">Cancel</button>
                        <span class="psw"><a href="#">Forgot password?</a></span>
                        </div>
                    </div>
                </form>
            </div>
            
            <a href="#" onclick="" ng-hide="" ng-show="">Log out</a>
            <button onclick=""><img src="./img/nicecart.png" class="cart"></button>
            <button onclick="">Check-out</button>

            <!-- <h5>Dark Mode</h5> -->
            Dark mode<label class="switch">
                <input onclick="myFunction()" type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>
        <!-- <div>
            <h5>Dark Mode</h5>
            <label class="switch">
                <input onclick="myFunction()" type="checkbox">
                <span class="slider round"></span>
            </label>
        </div> -->
        <div class="cartModal">

        </div>

        <div class="checkoutmodal">

        </div>
    </header>
            <nav>
                <h1>
                    Promise Menu
                </h1>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#games">Games</a></li>
                    <li><a href="#projects">About</a></li>
                </ul>
            </nav>
    <main>
        <!-- Carousel slider section -->
        <section class="container max-height d-flex align-items-center">
            <div id="carouselExampleCaptions" class="carousel slide" data-bs-interval="3000" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-current="true" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-current="true" aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-current="true" aria-label="Slide 4"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-current="true" aria-label="Slide 5"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./img/halo.jpg" class="d-block w-100" alt="Super Mario"/>
                        <div class="carousel-caption d-none d-md-block">
                            <h3>Halo</h3>
                            <p>The legendary Halo series returns with the most expansive Master Chief campaign yet and a ground-breaking free to play multiplayer.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./img/fifa.jpg" class="d-block w-100" alt="Super Mario"/>
                        <div class="carousel-caption d-none d-md-block">
                            <h3>Fifa 23</h3>
                            <p>FIFA 23 brings the game even closer to the real thing with fundamental gameplay advances and a new season of innovation.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./img/mariobros.png" class="d-block w-100" alt="Super Mario"/>
                        <div class="carousel-caption d-none d-md-block">
                            <h3>Super Mario Bros</h3>
                            <p>In this game you are playing the role of the Mario. You are going through the Mushroom Kingdom, surviving the forces of the antagonist Bowser, and saving.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/hayday.jpg" class="d-block w-100" alt="Hayday"/>
                        <div class="carousel-caption d-none d-md-block">
                            <h3>Hayday</h3>
                            <p>Best. Farm. Ever! Create the perfect farming experience with friends and neighbors from around the world and customize your own slice of country paradise.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/plants.jpg" class="d-block w-100" alt="Plants VS Zombie"/>
                        <div class="carousel-caption d-none d-md-block">
                            <h3>Plants VS Zombie</h3>
                            <p>Play the hit action-strategy adventure where you meet, greet, and defeat legions of hilarious zombies from the dawn of time.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>
        
        <section class="gameTable">
            <input type="text" ng-model="game_nameSearch" placeholder="Search by game name!" style="width: 60%;">
            <div class="games" ng-repeat="data in textData | orderBy:'game_name' | filter:game_nameSearch" style="border: 1px solid black;">
                <aside></aside>
                <div >
                    <br><span>Game: {{data.game_name}}</span>
                    <br><span>company: {{data.game_company}}</span>
                    <br><span>Price: {{data.currency_dollar}}</span>
                    <input type="checkbox">
                </div>
                <div class="buybut">
                    <button type="button">Add to Cart</button>
                    <button type="button">Purchase</button>
                </div>
            </div>
        </section>
        <section class="cookiepolicy" >
            <div id="cookieNotice" class="light display-right" style="display: none;">
                <div id="closeIcon" style="display: none;">
                </div>
                <div class="title-wrap">
                    <h4>Cookie Consent</h4>
                </div>
                <div class="content-wrap">
                    <div class="msg-wrap">
                        <p>This website uses cookies or similar technologies, to enhance your browsing experience and provide personalized recommendations. By continuing to use our website, you agree to our  <a style="color:#115cfa;" href="https://en.wikipedia.org/wiki/Privacy_policy">Privacy Policy</a></p>
                        <div class="btn-wrap">
                            <button class="btn-primary" ng-click="acceptCookieConsent()">Accept</button>
                            <button class="btn-secondary" ng-click="declineCookieConsent()">Decline</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        All Rights Reserved &copy; Promise Team (2022) Tamwood College, Vancouver, BC
    </footer>
</body>

<script>
let regApp = angular.module('regApp',[]);
regApp.controller('regCtrl',($scope,$http,$rootScope)=>{
    $http.get("./app.json").then(
    (res)=>{
        $rootScope.textData = res.data;
        console.log(res.data)
    }
    )
    switch(event.type){

    }

    //---------------------------login and out-------------------------------------//
    // Get the modal
    // let modal = document.getElementById('log');
    
    // // When the user clicks anywhere outside of the modal, close it
    // window.onclick = function(event) {
    //     if (event.target == modal) {
    //         modal.style.display = "none";
    //     }
    // }
    
    //--------------------------Cookie consent popup-------------------------------//
    // Create cookie
    let setCookie = (cname, cvalue, exdays)=> {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    
    // Delete cookie
    let deleteCookie=(cname) =>{
        const d = new Date();
        d.setTime(d.getTime() + (24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=;" + expires + ";path=/";
    }
    
    // Read cookie
    let getCookie=(cname) =>{
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
    // Set cookie consent
    let acceptCookieConsent=()=>{
        deleteCookie('user_cookie_consent');
        setCookie('user_cookie_consent', 1, 30);
        document.getElementById("cookieNotice").style.display = "none";
    }
    let cookie_consent = getCookie("user_cookie_consent");
    if(cookie_consent != ""){
        document.getElementById("cookieNotice").style.display = "none";
    }else{
        document.getElementById("cookieNotice").style.display = "block";
    }
    let declineCookieConsent=()=>{
        document.getElementById("cookieNotice").style.display = "none";
    }
})
// app.controller('regCtrl', function($scope, $http) {
// $scope.submit = function() {
//  // alert("SUBMIT "+$scope.regVal.username);
//   var stat="false";
// angular.forEach($scope.mydata, function(item){
//                   // alert(item.email);  
//                   if((item.email==$scope.regVal.usernameInput)&&(item.Password==$scope.regVal.psw))
//                   {
//                     stat="true";
//                   }


//                });
// $scope.regVal.usernameInput="";
// $scope.regVal.psw="";
//   if(stat=="true")
//     alert("Success");
//   else
//     alert("Failure");
//   };
  
//  $scope.regVal = {
// 			"username" : "",
// 			"password" : ""
			
// 		};
// $scope.mydata;
//   $http.get("/users.json")
//   .then(function(response) {
//       $scope.mydata = response.data;
//        angular.forEach($scope.mydata, function(item){
//                   // alert(item.email);  
//                })
      
//   });
  
  
// });
//---------------------------calling the json file----------------------------------//
    //     let populate = (data)=>{
    //     let tbody = document.getElementsByTagName("tbody")[0];
    //     let datas = JSON.parse(data)
    //     for (let obj of datas){
    //         let tr = document.createElement('tr');
    //         for (let prop in obj){
    //             let td = document.createElement("td");
    //             td.innerText = obj[prop];
    //             tr.appendChild(td);
    //         }
    //         tbody.appendChild(tr);
    //     }
    // }
    // async function loadJson(){
    // let ajaxPromise = new Promise ((resolve,reject)=>{
    //     let req = new XMLHttpRequest();
    //     req.open("GET","./data.json");
    //     req.onload = () =>{
    //         if(req.status==200){
    //             resolve(req.responseText);
    //         }else{
    //             reject(req.statusText0);
    //         }
    //     };
    //     req.send();
    // })
    // populate(await ajaxPromise);
    // }
    // loadJson().then(
    //     ()=>{},
    //     (reason)=>{alert(reason);}
    // )

//-----------------Game Gallery accordion logic-------------------------------------------//
// $(document).ready(function(){
//   $("#flip").click(function(){
//     $("#panel").slideDown("slow");
//   });
//     $("#flip").blur(function(){
//     $("#panel").slideUp("fast");
//   });
// });
//-----------------slide show--------------------------------------------------------------//
    let slides = document.getElementsByClassName("mySlides");
    let activeIndex = 0;
    showSlides(activeIndex);
    function showSlides(slideCounter){
        activeIndex += slideCounter;
        if(activeIndex>=slides.length) {
            activeIndex = 0;
        }else if(activeIndex<0){
            activeIndex = slides.length -1;
        }
        for (let i=0;i<slides.length;i++){
            slides[i].style.display = "none";//hide all the slides
        }
        slides[activeIndex].style.display = "block";//only show the active slide
    }
//------------------light dark mode -------------------------------------------------------//
    function myFunction() {
   let element = document.body;
   let el = document.getElementsByTagName('div');
   element.classList.toggle("dark-mode");
   el.classList.toggle("dark-mode");
}
</script>
</html>